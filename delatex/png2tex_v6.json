
{
    "geminiApiKey": "AIzaSyCRSn5TTMBhvmq8A2oyutc178hukFP4oJM",
    "apiUrl": "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent",
    "prompts": {
      "textLatex": "Bạn là một công cụ OCR chuyên nghiệp. Hãy trích xuất toàn bộ văn bản và nội dung toán học từ hình ảnh này. Biểu diễn tất cả các công thức, biểu thức, phương trình, bất phương trình, hệ tọa độ (như Oxyz, Oxy, O), điểm (như A(1;0;1), B, C), vector (như vector AB, vec{u}), biến số (như x, y, z, m, n), và số (như 1, 10, 3.14) thuộc ngữ cảnh toán học bằng chế độ toán LaTeX rõ ràng ($...$ cho nội dòng, \\[ ... \\] hoặc $$ ... $$ cho hiển thị riêng dòng phù hợp). Đảm bảo khoảng cách đúng bên ngoài chế độ toán. Chỉ trả về văn bản và code LaTeX đã trích xuất, KHÔNG bao gồm bất kỳ lời mở đầu hoặc kết luận nào.",

      "choice": "Xác định MỖI câu hỏi trắc nghiệm riêng biệt từ hình ảnh. Đối với MỖI câu hỏi đã xác định, trích xuất nội dung câu hỏi, danh sách các lựa chọn và lời giải. Định dạng MỖI câu hỏi thành một khối LaTeX riêng biệt như sau:\\n\\n```latex\\n\\begin{ex}\\n [Nội dung câu hỏi, bao gồm số câu nếu có]\\n \\choice\\n { Nội dung lựa chọn 1 }\\n { Nội dung lựa chọn 2 }\\n { Nội dung lựa chọn 3 }\\n { Nội dung lựa chọn 4 }\\n (chú ý chỉ có duy nhất 1 \\choice và theo sau là 4 cụm ngoặc) \\loigiai{\\n [Nội dung lời giải]\\n }\\n\\end{ex}\\n```\\n\\nXác định lựa chọn đúng cho MỖI câu hỏi và thêm macro \\\\True trước `{ Nội dung lựa chọn }` của nó. Đảm bảo toán luôn để trong $..$ và toạ độ điểm, vectơ nền dùng \\left(...\\right), TẤT CẢ nội dung toán học (công thức, biểu thức, phương trình, bất phương trình, hệ tọa độ, điểm, vector, biến số, số, đơn vị như km, m/s, v.v.) trong câu hỏi, các lựa chọn hoặc lời giải của MỖI khối được định dạng chính xác trong chế độ toán LaTeX ($...$ hoặc \\[...\\] phù hợp). Sử dụng \\\\ ở cuối mỗi dòng để xuống dòng trong lời giải.\\nChỉ trả về CÁC khối LaTeX đã định dạng, KHÔNG bao gồm bất kỳ lời mở đầu hoặc kết luận nào hoặc markdown bên ngoài các khối.",

      "choiceTF": "Xác định MỖI câu hỏi trắc nghiệm Đúng/Sai (tập hợp các mệnh đề) riêng biệt từ hình ảnh. Đối với MỖI tập hợp mệnh đề đã xác định, trích xuất nội dung câu hỏi/hướng dẫn chính (nếu có, bao gồm số câu nếu có), danh sách các mệnh đề và lời giải. Định dạng MỖI tập hợp thành một khối LaTeX riêng biệt như sau:\\n\\n```latex\\n\\begin{ex}\\n [Nội dung câu hỏi/hướng dẫn]\\n \\choiceTF\\n { Nội dung mệnh đề 1 }\\n { Nội dung mệnh đề 2 }\\n { Nội dung mệnh đề 3 }\\n { Nội dung mệnh đề 4 }\\n \\loigiai{\\n [Nội dung lời giải]\\n }\\n\\end{ex}\\n```\\n\\nXác định mệnh đề nào là Đúng cho MỖI tập hợp và thêm macro \\\\True trước `{ Nội dung mệnh đề }` của nó. Đảm bảo toán luôn để trong $..$ và toạ độ điểm, vectơ nền dùng \\left(...\\right), TẤT CẢ nội dung toán học (công thức, biểu thức, phương trình, bất phương trình, hệ tọa độ, điểm, vector, biến số, số, đơn vị như km, m/s, v.v.) trong câu hỏi/hướng dẫn, các mệnh đề hoặc lời giải của MỖI khối được định dạng chính xác trong chế độ toán LaTeX ($...$ hoặc \\[...\\] phù hợp). Sử dụng \\\\ ở cuối mỗi dòng để xuống dòng trong lời giải.\\nChỉ trả về CÁC khối LaTeX đã định dạng, KHÔNG bao gồm bất kỳ lời mở đầu hoặc kết luận nào hoặc markdown bên ngoài các khối.",

      "shortAns": "Xác định MỖI câu hỏi trả lời ngắn riêng biệt từ hình ảnh. Đối với MỖI câu hỏi đã xác định, trích xuất nội dung câu hỏi (bao gồm số câu nếu có), câu trả lời ngắn và lời giải. Định dạng MỖI câu hỏi thành một khối LaTeX riêng biệt như sau:\\n\\n```latex\\n\\begin{ex}\\n [Nội dung câu hỏi]\\n \\shortans{ [Nội dung trả lời ngắn] }\\n \\loigiai{\\n [Nội dung lời giải]\\n }\\n\\end{ex}\\n```\\n\\nĐảm bảo TẤT CẢ nội dung toán học (công thức, biểu thức, phương trình, bất phương trình, hệ tọa độ, điểm, vector, biến số, số, đơn vị như km, m/s, v.v.) trong câu hỏi, câu trả lời hoặc lời giải của MỖI khối được định dạng chính xác trong chế độ toán LaTeX ($...$ hoặc \\[...\\] phù hợp), toán luôn để trong $..$ và toạ độ điểm, vectơ nền dùng \\left(...\\right). Sử dụng \\\\ ở cuối mỗi dòng để xuống dòng trong lời giải.\\nChỉ trả về CÁC khối LaTeX đã định dạng, KHÔNG bao gồm bất kỳ lời mở đầu hoặc kết luận nào hoặc markdown bên ngoài các khối.",

      "tikzShapes": "Phân tích hình ảnh để tìm các hình học cơ bản (đường thẳng, đường tròn, hình chữ nhật, hình tam giác, điểm) và bất kỳ nhãn văn bản liên quan nào. Xác định vị trí tương đối và thuộc tính của chúng. Tạo code TikZ tương ứng để vẽ lại các hình dạng và nhãn này. Chỉ cung cấp code TikZ nằm trong môi trường \\begin{tikzpicture} ... \\end{tikzpicture}. KHÔNG bao gồm bất kỳ văn bản giải thích hoặc markdown nào bên ngoài môi trường TikZ. Đảm bảo bất kỳ nhãn, điểm (như A, B, C), tọa độ (như (1,2)) hoặc biểu thức toán học bao gồm số và đơn vị trong code TikZ được định dạng chính xác trong chế độ toán LaTeX ($...$)." ,

      "latexTabular": "Phân tích hình ảnh để tìm dữ liệu dạng bảng. Xác định cấu trúc bảng (hàng, cột, nội dung ô) và định dạng cơ bản (như đường kẻ ngang). Tạo code môi trường \\tabular tương ứng trong LaTeX để tạo lại bảng này chính xác như nó hiển thị, bao gồm nội dung ô và căn chỉnh cơ bản. Chỉ cung cấp code môi trường LaTeX \\begin{tabular} ... \\end{tabular}. KHÔNG bao gồm bất kỳ văn bản giải thích hoặc markdown nào bên ngoài môi trường tabular. Đảm bảo bất kỳ biểu thức toán học, biến số (như x, y, z), điểm, số, hoặc đơn vị nào trong các ô được định dạng chính xác trong chế độ toán LaTeX ($...$)." ,

      "solveMath": "Bạn là một chuyên gia giải toán xuất sắc và có khả năng tạo mã LaTeX chính xác. Hãy xem hình ảnh của một bài toán. Phân tích kỹ đề bài, trình bày các bước giải chi tiết, rõ ràng, logic như một giáo viên. Sử dụng TẤT CẢ các công thức, biểu thức, phương trình, bất phương trình, hệ tọa độ, điểm, vector, biến số, số, đơn vị, v.v. trong suốt lời giải chi tiết chỉ bằng chế độ toán LaTeX NỘI DÒNG ($...$) hoặc HIỂN THỊ RIÊNG DÒNG ($$...$$) hoặc canh dấu = với \\\\begin{eqarray*}....\\\\end{eqarray*}. TUYỆT ĐỐI KHÔNG sử dụng \\\\[...\\\\] hoặc \\\\begin{equation} ... \\\\end{equation}. Trình bày toàn bộ lời giải chi tiết này trong môi trường \\loigiai{\\n ... \\n} trong LaTeX. Chỉ trả về nội dung bên trong môi trường \\loigiai{}, KHÔNG bao gồm bất kỳ văn bản giải thích hoặc markdown nào bên ngoài nó.",

      "drawTikzFromText": "Bạn là một chuyên gia tạo mã TikZ từ mô tả văn bản. Hãy đọc mô tả văn bản sau và tạo mã TikZ chính xác để vẽ hình được mô tả. Đảm bảo các điểm, đường thẳng, đường tròn, góc, nhãn và các yếu tố hình học khác được biểu diễn chính xác theo mô tả. Chỉ cung cấp mã TikZ nằm trong môi trường \\begin{tikzpicture} ... \\end{tikzpicture}. KHÔNG bao gồm bất kỳ văn bản giải thích hoặc markdown nào bên ngoài môi trường TikZ. Đảm bảo bất kỳ nhãn, điểm (như A, B, B), tọa độ (như (1,2)) hoặc biểu thức toán học bao gồm số và đơn vị trong code TikZ được định dạng chính xác trong chế độ toán LaTeX (sử dụng $...$)." ,

      "generateSimilar": "Bạn là một chuyên gia tạo bài tập toán học. Hãy lấy bài tập LaTeX được cung cấp (nằm trong môi trường \\begin{ex}...\\end{ex}) và tạo ra 10 bài tập *tương tự*. Đảm bảo các bài tập tạo ra có cùng cấu trúc LaTeX chính xác như bài gốc, bao gồm cách sử dụng \\choice, \\loigiai, \\True (nếu có), các chế độ toán học ($...$, $$...$$, \\left(...\\right)), và \\\\ ở cuối các dòng trong lời giải (nếu có). Thay đổi các số liệu, tọa độ, giá trị hoặc các tham số đơn giản khác trong bài toán để tạo ra sự khác biệt, nhưng giữ nguyên dạng toán và phương pháp giải cơ bản. Chỉ trả về 10 khối \\begin{ex}...\\end{ex} đã tạo ra, nối tiếp nhau, KHÔNG bao gồm bất kỳ lời mở đầu, kết luận, giải thích hoặc markdown nào bên ngoài các khối này. Đảm bảo mỗi khối \\begin{ex} là một bài tập hoàn chỉnh và độc lập. TUYỆT ĐỐI không thêm số thứ tự bài tập." ,

      "generateSimilarWithSolve": "Bạn là một chuyên gia tạo bài tập toán học. Hãy lấy bài tập LaTeX được cung cấp (nằm trong môi trường \\begin{ex}...\\end{ex}) và tạo ra chính xác [SỐ LƯỢNG] bài tập *tương tự*. Đảm bảo các bài tập tạo ra có cùng cấu trúc LaTeX chính xác như bài gốc, bao gồm cách sử dụng \\choice, \\True (nếu có), các chế độ toán học ($...$, $$...$$, \\left(...\\right)). Với MỖI bài tập tương tự được tạo ra, hãy thêm một khối \\loigiai{...} chứa lời giải chi tiết cho bài tập đó. Thay đổi các số liệu, tọa độ, giá trị hoặc các tham số đơn giản khác trong bài toán để tạo ra sự khác biệt, nhưng giữ nguyên dạng toán và phương pháp giải cơ bản. Chỉ trả về [SỐ LƯỢNG] khối \\begin{ex}...\\end{ex} hoàn chỉnh (bao gồm cả \\loigiai{}), nối tiếp nhau, KHÔNG bao gồm bất kỳ lời mở đầu, kết luận, giải thích hoặc markdown nào bên ngoài các khối này. Đảm bảo mỗi khối \\begin{ex} là một bài tập hoàn chỉnh và độc lập. TUYỆT ĐỐI không thêm số thứ tự bài tập. Thay thế chuỗi \"[SỐ LƯỢNG]\" trong prompt này bằng số lượng bài tập cần tạo."

    },
    "replacements": [
         { "find": "^\\s*```(?:latex|tikz)?\\s*\\n", "replace": "", "flags": "gm" },
         {"find": "```","replace": "","flags": "g"},
         { "find": "^\\s*\\\\True\\{", "replace": "{\\True", "flags": "gm" },
         { "find": "\\$\\. \\}", "replace": "$}", "flags": "gm" },
         { "find": "\\\\n\\s", "replace": "\n", "flags": "g" },
         { "find": "\\\\begin\\{ex\\}\\s*\\n\\s*Câu (\\d+)(\\.|:)\\s*","replace": "%%---Câu $1---%%\n\\begin{ex}\n  ","flags": "g"}
    ]
}
